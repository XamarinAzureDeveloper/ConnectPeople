<?xml version="1.0" encoding="UTF-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	x:Class="UXDivers.Artina.Grial.HomePage"
	xmlns:artina="clr-namespace:UXDivers.Artina.Shared;assembly=UXDivers.Artina.Shared"
	xmlns:sample="clr-namespace:UXDivers.Artina.Grial;assembly=UXDivers.Artina.Grial"
	xmlns:local="clr-namespace:UXDivers.Artina.Grial;assembly=UXDivers.Artina.Grial"
	xmlns:sys="clr-namespace:System;assembly=mscorlib"
	Title="Connect People">
	<ScrollView>
		<StackLayout VerticalOptions="Fill"
			Padding="20"
			Spacing="10">

			<!-- LIST AND SEARCHBAR -->
			<StackLayout x:Name="StackSearch" Orientation="Horizontal" HorizontalOptions="FillAndExpand" BackgroundColor="#F5F5F5" IsVisible="false" Padding="5" >

				<Entry Text="{Binding Search}"
					Placeholder="Search for a name"
						TextColor="Gray"
					HorizontalOptions="FillAndExpand"
					/>
				<Button HorizontalOptions="End"
					Style="{DynamicResource PrimaryActionButtonStyle}"
					Text="Search"
					Command="{Binding SearchItem}" />
			</StackLayout>


			<ListView x:Name="themeNamesSampleListView"
				HasUnevenRows = "true"
				IsPullToRefreshEnabled ="true"
				Refreshing="OnRefreshing"
				SelectedItem="{Binding SelectedItem, Mode=TwoWay}"
				SeparatorColor="{StaticResource ListViewSeparatorColor}"

				ItemsSource="{Binding Users}">
				<ListView.ItemTemplate>
					<DataTemplate>
						<ViewCell>

							<ViewCell.ContextActions>
								<MenuItem 
									Clicked="OnMore"
									Text="Details" />
								<MenuItem 
									Clicked="OnMore"
									Text="Add" />
								<MenuItem 
									Clicked="OnDelete"
									Text="Delete" 
									IsDestructive="True" />
							</ViewCell.ContextActions>
							
							<StackLayout Orientation="Horizontal"
								HorizontalOptions="FillAndExpand"
								Padding="5">
								<artina:CircleImage Source="{Binding Picture}"
									Style="{ StaticResource Avatar }"
									Rotation="270" />
								<StackLayout Orientation="Vertical"
										HorizontalOptions="StartAndExpand">

									<StackLayout Orientation="Horizontal" HorizontalOptions="StartAndExpand">
										<Label Text="{Binding NickName}" FontSize="Large" />
									</StackLayout>
									
									<StackLayout Orientation="Horizontal" HorizontalOptions="StartAndExpand">
										<Label Text="{Binding FirstName}" FontAttributes="Italic" />
										<Label Text="{Binding Name}" FontAttributes="Italic" />
									</StackLayout>

								</StackLayout>
								<StackLayout Orientation="Vertical"
									HorizontalOptions="End">
									<Label Text="{Binding Function}" FontSize="Small" />
									<Label Text="{Binding Language}" FontSize="Small"/>
								</StackLayout>
							</StackLayout>
						</ViewCell>
					</DataTemplate>
				</ListView.ItemTemplate>
			</ListView>
		</StackLayout>
	</ScrollView>
</ContentPage>